---
import { useEffect, useState } from 'react'

const greetings = [
  {
    hi: 'Hi',
    pron: '/hʌɪ/',
    lang: 'English',
    desc: 'exclamation',
  },
  {
    hi: 'こんにちは',
    pron: 'Kon-ni-chi-wa',
    lang: 'Japanese',
    desc: '感嘆詞',
  },
  {
    hi: 'Hola',
    pron: '/ˈola/',
    lang: 'Spanish',
    desc: 'exclamación',
  },
  {
    hi: 'Bok',
    pron: '/bok/',
    lang: 'Croatian',
    desc: 'uzvik',
  },
]

const intervalMs = 2200

const AnimatedHi = () => {
  const [idx, setIdx] = useState(0)

  useEffect(() => {
    const id = setInterval(() => {
      setIdx((i) => (i + 1) % greetings.length)
    }, intervalMs)
    return () => clearInterval(id)
  }, [])

  const { hi, pron, desc, lang } = greetings[idx]

  return (
    <>
      <h3 className="text-3xl leading-none font-medium transition-all duration-500 animate-fade-in">
        {hi} <span className="ml-2 text-base text-muted-foreground font-normal">({lang})</span>
      </h3>
      <p className="text-muted-foreground text-sm transition-all duration-500 animate-fade-in">
        {pron} &bull; <span className="font-medium">{desc}</span>
      </p>
    </>
  )
}

export default AnimatedHi
---

<!-- Astro JSX hydration -->
<AnimatedHi client:only="react" />
